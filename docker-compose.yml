services:
  assets:
    container_name: docssync-assets
    build:
      context: ./assets
    expose:
      - "3001"
    volumes:
      - ./data:/app/data
    restart: unless-stopped

  documentation:
    container_name: docssync-documentation
    build:
      context: ./documentation
    expose:
      - "3000"
    depends_on:
      - assets
    restart: unless-stopped

  proxy:
    container_name: docssync-proxy
    image: nginx:alpine
    ports:
      - "8080:80"
    volumes:
      - ./proxy/nginx.conf:/etc/nginx/conf.d/default.conf:ro
    depends_on:
      - assets
      - documentation
    restart: unless-stopped
